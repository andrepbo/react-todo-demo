<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>To-Do List with React</title>
  <style>
    /* Some basic styling */
    li {
      cursor: pointer;
      margin-bottom: 8px;
    }
    .completed {
      text-decoration: line-through;
      color: gray;
    }
  </style>
</head>
<body>
  <header>
    <h1>React To-Do List</h1>
  </header>

  <main>
    <section id="root"></section>
  </main>

  <footer>
    <p>Â© 2025 To-Do App. All rights reserved.</p>
  </footer>

  <!-- Load React, ReactDOM, and Babel -->
  <script src="https://unpkg.com/react@18/umd/react.development.js"></script>
  <script src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
  <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>

  <!-- Our React App -->
  <script type="text/babel">

    const { useState } = React;

    // TaskInput component: handles input field and add button
    function TaskInput({ newTask, setNewTask, addTask }) {
      return (
        <section>
          <form onSubmit={(e) => { e.preventDefault(); addTask(); }}>
            <input 
              type="text"
              value={newTask}
              onChange={(e) => setNewTask(e.target.value)}
              placeholder="New task"
              aria-label="Task input"
            />
            <button type="submit">Add</button>
          </form>
        </section>
      );
    }

    // TaskList component: displays the list of tasks with remove and toggle complete
    function TaskList({ tasks, toggleTaskComplete, removeTask }) {
      return (
        <section>
          <ul>
            {tasks.map((task, index) => (
              <li key={index}>
                <span
                  onClick={() => toggleTaskComplete(index)}
                  className={task.completed ? 'completed' : ''}
                >
                  {task.text}
                </span>
                <button 
                  onClick={() => removeTask(index)}
                  style={{ marginLeft: "10px" }}
                >
                  Remove
                </button>
              </li>
            ))}
          </ul>
        </section>
      );
    }

    // Main App component
    function App() {
      const [tasks, setTasks] = useState([]);
      const [newTask, setNewTask] = useState('');

      function addTask() {
        if (newTask.trim() === '') return;
        const taskObject = { text: newTask, completed: false };
        setTasks([...tasks, taskObject]);
        setNewTask('');
      }

      function toggleTaskComplete(indexToToggle) {
        const updatedTasks = tasks.map((task, index) => {
          if (index === indexToToggle) {
            return { ...task, completed: !task.completed };
          }
          return task;
        });
        setTasks(updatedTasks);
      }

      function removeTask(indexToRemove) {
        setTasks(tasks.filter((_, index) => index !== indexToRemove));
      }

      return (
        <div>
          <TaskInput 
            newTask={newTask}
            setNewTask={setNewTask}
            addTask={addTask}
          />
          <TaskList 
            tasks={tasks} 
            toggleTaskComplete={toggleTaskComplete} 
            removeTask={removeTask} 
          />
        </div>
      );
    }

    // Render App component into the DOM
    ReactDOM.createRoot(document.getElementById('root')).render(<App />);

  </script>
</body>
</html>